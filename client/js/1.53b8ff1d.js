(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"5KbQ":function(e,t,s){"use strict";var a=s("e6BW"),n=s.n(a);n.a},ZZ31:function(e,t,s){"use strict";var a=s("btiJ"),n=s.n(a);n.a},btiJ:function(e,t,s){},e6BW:function(e,t,s){},"kmF/":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("q-window-resize-observable",{on:{resize:e.onResize}}),s("span",{staticClass:"fixed-top-right",style:{top:e.$store.state.data.vars.headerHeight+"px",zIndex:1e3}},[s("q-btn",{staticStyle:{color:"green","padding-bottom":"0px","margin-bottom":"0px"},attrs:{flat:"",label:e.showNodesInfo},on:{click:e.showSelectedInfo}}),s("br"),s("q-btn",{staticStyle:{color:"blue","padding-top":"0px"},attrs:{flat:"",label:e.selectionInfo},on:{click:function(t){e.settingsOpened=!0}}})],1),s("div",{style:{height:e.containerHeight},attrs:{id:"nodesMap"}}),s("q-modal",{attrs:{"content-css":{padding:"10px",minWidth:"50vw"}},model:{value:e.countriesOpened,callback:function(t){e.countriesOpened=t},expression:"countriesOpened"}},[s("chart-data",{ref:"countriesChart",attrs:{chartType:"pie",labels:this.countriesTableData.map(function(e){return e.name}),datasets:this.countriesTableData.map(function(e){return e.nodes}),colors:this.countriesTableData.map(function(e){return e.color})}}),s("q-table",{attrs:{title:"Countries",data:e.countriesTableData,filter:e.filterCountries,columns:e.countriesColumns,pagination:e.pagination1,"row-key":"name"},on:{"update:pagination":function(t){e.pagination1=t}},scopedSlots:e._u([{key:"top-left",fn:function(t){return[s("q-search",{staticClass:"col-6",attrs:{"hide-underline":"",color:"secondary"},model:{value:e.filterCountries,callback:function(t){e.filterCountries=t},expression:"filterCountries"}})]}},{key:"header",fn:function(t){return s("q-tr",{},e._l(t.cols,function(a){return s("q-th",{key:a.name,attrs:{props:t}},[e._v("\n          "+e._s(a.label)+"\n        ")])}))}},{key:"body",fn:function(t){return[s("q-tr",{attrs:{props:t}},[s("q-td",{key:"name",staticStyle:{"max-width":"50%"},attrs:{props:t}},[s("q-checkbox",{staticClass:"q-mr-md",attrs:{color:"primary","checked-icon":"remove","unchecked-icon":"add"},model:{value:t.expand,callback:function(s){e.$set(t,"expand",s)},expression:"props.expand"}}),s("span",{style:{marginRight:"10px",backgroundColor:t.row.color,color:t.row.color}},[e._v("_______")]),e._v("\n            "+e._s(t.row.name)+"\n          ")],1),s("q-td",{key:"nodes",staticStyle:{"max-width":"25%"},attrs:{props:t}},[e._v("\n            "+e._s(t.row.nodes)+"\n          ")]),s("q-td",{key:"percentage",staticStyle:{"max-width":"25%"},attrs:{props:t}},[e._v("\n            "+e._s(t.row.percentage)+"\n          ")])],1),s("q-tr",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"props.expand"}],attrs:{props:t}},[s("q-td",{attrs:{colspan:"100%"}},[s("q-table",{attrs:{data:e.getStatesTableData(t.row.name),columns:e.statesColumns,pagination:e.pagination2,"row-key":"name"},on:{"update:pagination":function(t){e.pagination2=t}},scopedSlots:e._u([{key:"body",fn:function(t){return[s("q-tr",{attrs:{props:t}},[s("q-td",{key:"name",staticStyle:{"max-width":"50%"},attrs:{props:t}},[e._v("\n                    "+e._s(t.row.name.substring(0,32))+"\n                  ")]),s("q-td",{key:"nodes",staticStyle:{"max-width":"25%"},attrs:{props:t}},[e._v("\n                    "+e._s(t.row.nodes)+"\n                  ")]),s("q-td",{key:"percentage",staticStyle:{"max-width":"25%"},attrs:{props:t}},[e._v("\n                    "+e._s(t.row.percentage)+"\n                  ")])],1)]}}])}),s("q-table",{attrs:{data:e.getIspCountryTableData(t.row.name),columns:e.ispCountryColumns,pagination:e.pagination3,"row-key":"name"},on:{"update:pagination":function(t){e.pagination3=t}},scopedSlots:e._u([{key:"body",fn:function(t){return[s("q-tr",{attrs:{props:t}},[s("q-td",{key:"name",staticStyle:{"max-width":"50%"},attrs:{props:t}},[s("a",{attrs:{href:"https://www.google.com/search?q="+t.row.name,target:"_blank"}},[e._v(e._s(t.row.name.substring(0,32)))])]),s("q-td",{key:"nodes",staticStyle:{"max-width":"25%"},attrs:{props:t}},[e._v("\n                    "+e._s(t.row.nodes)+"\n                  ")]),s("q-td",{key:"percentage",staticStyle:{"max-width":"25%"},attrs:{props:t}},[e._v("\n                    "+e._s(t.row.percentage)+"\n                  ")])],1)]}}])})],1)],1)]}}])}),s("p",{attrs:{align:"center"}},[s("br"),s("q-btn",{attrs:{color:"primary",label:"Close"},on:{click:function(t){e.countriesOpened=!1}}})],1)],1),s("q-modal",{attrs:{"content-css":{padding:"10px",minWidth:"50vw"}},model:{value:e.ispsOpened,callback:function(t){e.ispsOpened=t},expression:"ispsOpened"}},[s("chart-data",{ref:"ispsChart",attrs:{chartType:"pie",labels:this.ispsTableData.map(function(e){return e.name}),datasets:this.ispsTableData.map(function(e){return e.nodes}),colors:this.ispsTableData.map(function(e){return e.color})}}),s("q-table",{attrs:{title:"Providers",data:e.ispsTableData,filter:e.filterIsps,columns:e.ispsColumns,pagination:e.pagination,selection:"multiple",selected:e.selectedIsps,"row-key":"name"},on:{"update:pagination":function(t){e.pagination=t},"update:selected":function(t){e.selectedIsps=t}},scopedSlots:e._u([{key:"top-left",fn:function(t){return[s("q-search",{staticClass:"col-6",attrs:{"hide-underline":"",color:"secondary"},model:{value:e.filterIsps,callback:function(t){e.filterIsps=t},expression:"filterIsps"}})]}},{key:"top-selection",fn:function(t){return[s("q-btn",{attrs:{color:"secondary",label:"Show selected on map"},on:{click:e.showSelectedIsps}}),s("q-btn",{attrs:{color:"white",label:"",flat:""}}),s("q-btn",{attrs:{color:"info",label:"Show all"},on:{click:e.showAll}})]}},{key:"header",fn:function(t){return s("q-tr",{},e._l(t.cols,function(a){return s("q-th",{key:a.name,attrs:{props:t}},[e._v("\n          "+e._s(a.label)+"\n        ")])}))}},{key:"body",fn:function(t){return[s("q-tr",{attrs:{props:t}},[s("q-td",{key:"name",staticStyle:{"max-width":"10%"},attrs:{props:t}},[s("q-checkbox",{attrs:{color:"primary"},model:{value:t.selected,callback:function(s){e.$set(t,"selected",s)},expression:"props.selected"}}),s("span",{style:{marginRight:"10px",backgroundColor:t.row.color,color:t.row.color}},[e._v("____")]),s("a",{attrs:{href:"https://www.google.com/search?q="+t.row.name,target:"_blank"}},[e._v(e._s(t.row.name.substring(0,30)))])],1),s("q-td",{key:"nodes",staticStyle:{"max-width":"10%",width:"20px"},attrs:{props:t}},[e._v(e._s(t.row.nodes))]),s("q-td",{key:"percentage",staticStyle:{"max-width":"10%"},attrs:{props:t}},[e._v(e._s(t.row.percentage))])],1)]}}])}),s("p",{attrs:{align:"center"}},[s("br"),s("q-btn",{attrs:{color:"primary",label:"Close"},on:{click:function(t){e.ispsOpened=!1}}})],1)],1),s("q-modal",{attrs:{"content-css":{padding:"10px",minWidth:"50vw"}},model:{value:e.listOpened,callback:function(t){e.listOpened=t},expression:"listOpened"}},[s("q-table",{attrs:{title:"Nodes list",data:e.listTableData,filter:e.filter,columns:e.listColumns,pagination:e.pagination,"row-key":"rank"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top-left",fn:function(t){return[s("q-search",{staticClass:"col-6",attrs:{"hide-underline":"",color:"secondary"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]}},{key:"header",fn:function(t){return s("q-tr",{},e._l(t.cols,function(a){return s("q-th",{key:a.name,attrs:{props:t}},[e._v("\n          "+e._s(a.label)+"\n        ")])}))}},{key:"body",fn:function(t){return[s("q-tr",{attrs:{props:t}},[s("q-td",{key:"rank",attrs:{props:t}},[e._v(e._s(t.row.rank))]),s("q-td",{key:"ip",attrs:{props:t}},[s("a",{directives:[{name:"show",rawName:"v-show",value:"Yes"===t.row.wi,expression:"props.row.wi === 'Yes'"}],attrs:{href:e.createHref(t.row.ip,""),target:"_blank"}},[e._v(e._s(t.row.ip))]),s("span",{directives:[{name:"show",rawName:"v-show",value:"No"===t.row.wi,expression:"props.row.wi === 'No'"}]},[e._v(e._s(t.row.ip))])]),s("q-td",{key:"host",attrs:{props:t}},[s("a",{directives:[{name:"show",rawName:"v-show",value:"Yes"===t.row.wh,expression:"props.row.wh === 'Yes'"}],attrs:{href:e.createHref(t.row.host,t.row.whs),target:"_blank"}},[e._v(e._s(t.row.host))]),s("span",{directives:[{name:"show",rawName:"v-show",value:"No"===t.row.wh,expression:"props.row.wh === 'No'"}]},[e._v(e._s(t.row.host))])]),s("q-td",{key:"online",attrs:{props:t}},[s("i",{staticClass:"material-icons",style:{color:e.onlineColor(t.row.lastOnline)}},[e._v("fiber_manual_record")]),e._v(e._s(e.onlineTextTable(t.row.lastOnline))+"\n          ")]),s("q-td",{key:"onlinesince",attrs:{props:t}},[e._v(e._s(e.onlineSince(t.row.firstOnline)))]),s("q-td",{key:"percentage",attrs:{props:t}},[e._v(e._s(t.row.percentage)+"%")]),s("q-td",{key:"website",attrs:{props:t}},[e._v(e._s(t.row.website))]),s("q-td",{key:"isp",attrs:{props:t}},[s("a",{attrs:{href:"https://www.google.com/search?q="+t.row.isp,target:"_blank"}},[e._v(e._s(t.row.isp))])]),s("q-td",{key:"country",attrs:{props:t}},[e._v(e._s(t.row.country))]),s("q-td",{key:"state",attrs:{props:t}},[e._v(e._s(t.row.state))]),s("q-td",{key:"city",attrs:{props:t}},[e._v(e._s(t.row.city))])],1)]}}])}),s("p",{attrs:{align:"center"}},[s("br"),s("q-btn",{attrs:{color:"primary",label:"Close"},on:{click:function(t){e.listOpened=!1}}})],1)],1),s("q-modal",{attrs:{"content-css":{padding:"10px",minWidth:"50vw"}},model:{value:e.settingsOpened,callback:function(t){e.settingsOpened=t},expression:"settingsOpened"}},[s("p",{staticClass:"caption"},[e._v("Showing nodes that have been online at least")]),s("q-select",{attrs:{radio:"",options:e.minimumPercentageOptions},model:{value:e.$store.state.data.vars.minimumPercentage,callback:function(t){e.$set(e.$store.state.data.vars,"minimumPercentage",t)},expression:"$store.state.data.vars.minimumPercentage"}}),s("p",{staticClass:"caption"},[e._v("since at least")]),s("q-select",{attrs:{radio:"",options:e.minimumDaysOptions},model:{value:e.$store.state.data.vars.minimumDays,callback:function(t){e.$set(e.$store.state.data.vars,"minimumDays",t)},expression:"$store.state.data.vars.minimumDays"}}),s("p",{staticClass:"caption"},[e._v("days ago.")]),s("p",{attrs:{align:"center"}},[s("br"),s("q-btn",{attrs:{color:"primary",label:"Apply"},on:{click:function(t){e.settingsOpened=!1}}})],1)],1),s("q-modal",{attrs:{"content-css":{padding:"10px",minWidth:"50vw"}},model:{value:e.selectionOpened,callback:function(t){e.selectionOpened=t},expression:"selectionOpened"}},[s("p",{staticClass:"caption",attrs:{align:"center"}},[e._v("Currently showing "+e._s(e.showNodesInfo)+" of "+e._s(e.totalNodes)+" ("+e._s(e.onlineNodes)+") nodes.")]),s("p",{attrs:{align:"center"}},[s("br"),s("q-btn",{attrs:{color:"primary",label:"Continue showing selected"},on:{click:function(t){e.selectionOpened=!1}}}),s("br"),s("br"),s("q-btn",{attrs:{color:"info",label:"Show all"},on:{click:e.showAll}})],1)])],1)},n=[];a._withStripped=!0;s("f3/d"),s("Vd3H"),s("a1Th");var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("canvas",{ref:"chart"})])},o=[];i._withStripped=!0;var r={name:"ChartData",props:{chartType:{type:String,default:function(){return"pie"},required:!0},datasets:{type:Array,default:function(){return[]},required:!0},labels:{type:Array,default:function(){return[]},required:!0},colors:{type:Array,default:function(){return[]},required:!0}},data:function(){return{chart:null,height:"200px"}},methods:{updateChart:function(){var e=this.$refs.chart.getContext("2d");this.chart&&this.chart.destroy(),this.chart=new window.Chart(e,{type:this.chartType,data:{labels:this.labels,datasets:[{data:this.datasets,backgroundColor:this.colors}]},options:{responsive:!0,legend:{display:!1}}})}}},l=r,d=(s("ZZ31"),s("KHd+")),c=Object(d["a"])(l,i,o,!1,null,"28ae2724",null),p=c.exports,u=s("/Zut"),h=s.n(u),f={name:"NodesMap",components:{ChartData:p},data:function(){return{nodes:{},onlineNodes:0,selectedTotalNodes:0,selectedOnlineNodes:0,interval:null,nodesFilter:null,map:null,markers:null,ispsTableData:[],listTableData:[],isps:{},ispsCountry:{},filter:"",filterCountries:"",filterIsps:"",selectedIsps:[],ispsSelected:!1,selectedCountries:[],pagination:{rowsPerPage:20},pagination1:{rowsPerPage:20},pagination2:{rowsPerPage:20},pagination3:{rowsPerPage:20},countries:{},statesColumns:[{name:"name",required:!0,label:"State/province",align:"left",field:"name",sortable:!1},{name:"nodes",required:!0,label:"Nodes",field:"nodes",sortable:!1},{name:"percentage",required:!0,label:"%",field:"percentage",sortable:!1}],ispCountryColumns:[{name:"name",required:!0,label:"Provider",align:"left",field:"name",sortable:!1},{name:"nodes",required:!0,label:"Nodes",field:"nodes",sortable:!1},{name:"percentage",required:!0,label:"%",field:"percentage",sortable:!1}],listColumns:[{name:"rank",required:!0,label:"Rank",align:"left",field:"rank",sortable:!0},{name:"ip",required:!0,label:"IP address",align:"left",field:"ip",sortable:!0},{name:"host",required:!0,label:"Hostname",align:"left",field:"host",sortable:!0},{name:"online",required:!0,label:"Online",align:"left",field:"lastOnline",sortable:!0},{name:"onlinesince",required:!0,label:"Online since",align:"left",field:"firstOnline",sortable:!0},{name:"percentage",required:!0,label:"Uptime",align:"left",field:"percentage",sortable:!0},{name:"website",required:!0,label:"Website",align:"left",field:"website",sortable:!0},{name:"isp",required:!0,label:"Provider",align:"left",field:"isp",sortable:!0},{name:"country",required:!0,label:"Country",align:"left",field:"country",sortable:!0},{name:"state",required:!0,label:"State/province",align:"left",field:"state",sortable:!0},{name:"city",required:!0,label:"City",align:"left",field:"city",sortable:!0}]}},computed:{showNodesInfo:function(){return this.ispsSelected?this.selectedTotalNodes+" ("+this.selectedOnlineNodes+")":this.totalNodes+" ("+this.onlineNodes+")"},minimumPercentageOptions:{get:function(){for(var e=[],t=99;t>=90;t--)e.push({label:t+"%",value:t});return e}},minimumDaysOptions:{get:function(){for(var e=[],t=7;t<=30;t++)e.push({label:t.toString(),value:t});return e}},containerHeight:{get:function(){return this.$store.state.data.vars.containerHeight+"px"}},selectionInfo:{get:function(){return this.$store.state.data.vars.minimumPercentage+"% "+this.$store.state.data.vars.minimumDays+"d+"}},settingsOpened:{get:function(){return this.$store.state.data.vars.settingsOpened},set:function(e){this.$store.commit({type:"data/setVar",key:"settingsOpened",value:e}),this.drawMap()}},ispsOpened:{get:function(){return this.$store.state.data.vars.ispsOpened},set:function(e){this.$store.commit({type:"data/setVar",key:"ispsOpened",value:e})}},countriesOpened:{get:function(){return this.$store.state.data.vars.countriesOpened},set:function(e){this.$store.commit({type:"data/setVar",key:"countriesOpened",value:e})}},listOpened:{get:function(){return this.$store.state.data.vars.listOpened},set:function(e){this.$store.commit({type:"data/setVar",key:"listOpened",value:e})}},selectionOpened:{get:function(){return this.$store.state.data.vars.selectionOpened},set:function(e){this.$store.commit({type:"data/setVar",key:"selectionOpened",value:e})}},countriesColumns:function(){return[{name:"name",required:!0,label:"Country ("+this.totalNodes+" nodes total)",align:"left",field:"name",sortable:!0},{name:"nodes",required:!0,label:"Nodes",align:"left",field:"nodes",sortable:!0},{name:"percentage",required:!0,label:"%",align:"left",field:"percentage",sortable:!0}]},ispsColumns:function(){return[{name:"name",required:!0,label:"Provider ("+this.totalNodes+" total nodes)",align:"left",field:"name",sortable:!0},{name:"nodes",required:!0,label:"Nodes",field:"nodes",sortable:!0},{name:"percentage",required:!0,label:"%",field:"percentage",sortable:!0}]},totalNodes:function(){var e=0;for(var t in this.nodes)e+=this.nodes[t]["count"];return e},countriesTableData:function(){var e=[];for(var t in this.nodes)for(var s in this.nodes[t])"count"!==s&&e.push({name:s||"Not detected",nodes:this.nodes[t][s]["count"],percentage:parseFloat(this.nodes[t][s]["count"]/this.totalNodes*100).toFixed(2)+"%",color:h()()});return e=e.filter(function(e){return e.nodes}),e.sort(function(e,t){return e.nodes>t.nodes?-1:t.nodes>e.nodes?1:0}),e},statesTableData:function(){var e={};for(var t in this.nodes)for(var s in this.nodes[t]){for(var a in e[s]=[],this.nodes[t][s])"count"!==a&&e[s].push({name:a||"Not detected",nodes:this.nodes[t][s][a]["count"],percentage:parseFloat(this.nodes[t][s][a]["count"]/this.nodes[t][s]["count"]*100).toFixed(2)+"%"});e[s].sort(function(e,t){return e.nodes>t.nodes?-1:t.nodes>e.nodes?1:0})}return e}},mounted:function(){var e=this;this.map=window.L.map("nodesMap").setView([50,0],3),this.markers=window.L.markerClusterGroup(),window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:20,attribution:'Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(this.map),this.loadData(),this.interval=setInterval(function(){e.checkLastUpdated()},1e4)},beforeDestroy:function(){clearInterval(this.interval)},methods:{onResize:function(e){this.$store.commit({type:"data/setVar",key:"containerHeight",value:e.height}),this.$store.commit({type:"data/setVar",key:"mapHeightChanged",value:!1})},getStatesTableData:function(e){return this.statesTableData[e]},onlineColor:function(e){return"now"===e?"greenyellow":"yellow"},onlineText:function(e){return"now"===e?"Online":"Last online "+window.moment(e+"+00:00").fromNow()},onlineTextTable:function(e){return"now"!==e?window.moment(e+"+00:00").fromNow():"Online"},onlineSince:function(e){return window.moment(e+"+00:00").fromNow()},createHref:function(e,t){var s="";"Yes"===t&&(s="s");var a=-1!==e.indexOf(":")?"[":"",n=-1!==e.indexOf(":")?"]":"";return"http"+s+"://"+a+e+n},getIspCountryTableData:function(e){var t=[],s=0;for(var a in this.nodes)for(var n in this.nodes[a])if(e===n){s=this.nodes[a][e]["count"];break}for(var i in this.ispsCountry[e])t.push({name:i||"Not detected",nodes:this.ispsCountry[e][i],percentage:parseFloat(this.ispsCountry[e][i]/s*100).toFixed(2)+"%"});return t.sort(function(e,t){return e.nodes>t.nodes?-1:t.nodes>e.nodes?1:0}),t},drawMap:function(){this.isps={},this.ispsCountry={},this.nodes={},this.listTableData=[],this.onlineNodes=0,this.selectedOnlineNodes=0,this.selectedTotalNodes=0;var e=[],t=!1,s=this.$store.state.data.vars.nodesData,a=window.moment(),n="No";for(var i in this.markers.clearLayers(),s)for(var o in this.nodes[i]={count:0},s[i])for(var r in this.nodes[i][o]={count:0},this.ispsCountry[o]={},s[i][o])for(var l in this.nodes[i][o][r]={count:0},s[i][o][r])for(var d in s[i][o][r][l]){var c=s[i][o][r][l][d];if(c["percentage"]>=this.$store.state.data.vars.minimumPercentage&&a.diff(window.moment(c["firstOnline"]+"+00:00"),"days")>=this.$store.state.data.vars.minimumDays){if("now"===c["lastOnline"]&&this.onlineNodes++,n="Yes"===c["wi"]||"Yes"===c["wh"]?"Yes":"No",this.listTableData.push({rank:c["rank"],ip:c["ip"],host:c["host"],lastOnline:c["lastOnline"],firstOnline:c["firstOnline"],percentage:c["percentage"],isp:c["isp"],country:o,state:r,city:l,website:n,wi:c["wi"],wh:c["wh"],whs:c["whs"]}),this.nodes[i]["count"]++,this.nodes[i][o]["count"]++,this.nodes[i][o][r]["count"]++,"isp"===this.nodesFilter)for(var p in t=!0,this.selectedIsps)this.selectedIsps[p]["name"]===c["isp"]&&(t=!1);if(this.nodesFilter&&!t||!this.nodesFilter){this.nodesFilter&&!t&&(this.selectedTotalNodes++,"now"===c["lastOnline"]&&this.selectedOnlineNodes++);var u=c["ip"],f=c["host"],m=-1!==u.indexOf(":")?"[":"",y=-1!==u.indexOf(":")?"]":"",v=-1!==f.indexOf(":")?"[":"",w=-1!==f.indexOf(":")?"]":"",b=u;"Yes"===c["wi"]&&(b='<a href="http://'+m+u+y+'" target="_blank">'+u+"</a>");var g=f,k="";"Yes"===c["wh"]&&("Yes"===c["whs"]&&(k="s"),g='<a href="http'+k+"://"+v+f+w+'" target="_blank">'+f+"</a>");var _='<div style="display: table;"><div style="display: table-row;"><div style="display: table-cell;"><i class="material-icons" style="color: '+this.onlineColor(c["lastOnline"])+'">fiber_manual_record</i></div><div style="display: table-cell;">'+this.onlineText(c["lastOnline"])+'</div></div><div style="display: table-row;"><div style="display: table-cell;">IP address:</div><div style="display: table-cell;">'+b+'</div></div><div style="display: table-row;"><div style="display: table-cell;">Hostname:</div><div style="display: table-cell;">'+g+'</div></div><div style="display: table-row;"><div style="display: table-cell;">City:</div><div style="display: table-cell;">'+l+'</div></div><div style="display: table-row;"><div style="display: table-cell;">State/Province:</div><div style="display: table-cell;">'+r+'</div></div><div style="display: table-row;"><div style="display: table-cell;">Country:</div><div style="display: table-cell;">'+o+'</div></div><div style="display: table-row;"><div style="display: table-cell;">Provider:</div><div style="display: table-cell;"><a href="https://www.google.com/search?q='+c["isp"]+'" target="_blank">'+c["isp"]+'</a></div></div><div style="display: table-row;"><div style="display: table-cell;">Online:</div><div style="display: table-cell;">'+c["percentage"]+"% since "+window.moment(c["firstOnline"]+"+00:00").fromNow()+"</div></div></div>",q=window.L.marker([c["lat"],c["long"]]);q.bindPopup(_),e.push(q)}this.ispsCountry[o][c["isp"]]?this.ispsCountry[o][c["isp"]]++:this.ispsCountry[o][c["isp"]]=1,this.isps[c["isp"]]?this.isps[c["isp"]]++:this.isps[c["isp"]]=1}}for(var O in this.markers.addLayers(e),this.map.addLayer(this.markers),this.ispsTableData=[],this.isps)this.ispsTableData.push({name:O,nodes:this.isps[O],percentage:parseFloat(this.isps[O]/this.totalNodes*100).toFixed(2)+"%",color:h()()});this.ispsTableData.sort(function(e,t){return e.nodes>t.nodes?-1:t.nodes>e.nodes?1:0}),this.listTableData.sort(function(e,t){return e.rank<t.rank?-1:t.rank<e.rank?1:0}),this.$nextTick(function(){this.$refs.countriesChart.updateChart(),this.$refs.ispsChart.updateChart()})},loadData:function(){var e=this;window.axios({url:"/data.json",method:"get",baseURL:this.$store.state.data.host}).then(function(t){return e.$store.commit({type:"data/setVar",key:"todayStatsData",value:t.data.stats}),e.$store.commit({type:"data/setVar",key:"nodesData",value:t.data.data}),e.$store.commit({type:"data/setVar",key:"lastUpdated",value:window.moment()}),e.drawMap(),!0}).catch(function(e){return"Error! "+e})},showSelectedIsps:function(){this.ispsSelected=!0,this.$store.commit({type:"data/setVar",key:"ispsOpened",value:!1}),this.nodesFilter="isp",this.drawMap()},showAll:function(){this.nodesFilter=null,this.ispsSelected=!1,this.ispsOpened=!1,this.countriesOpened=!1,this.settingsOpened=!1,this.selectionOpened=!1,this.drawMap()},checkLastUpdated:function(){window.moment().diff(this.$store.state.data.vars.lastUpdated)>12e5&&this.loadData()},showSelectedInfo:function(){this.ispsSelected&&(this.selectionOpened=!0)}}},m=f,y=(s("5KbQ"),Object(d["a"])(m,a,n,!1,null,null,null));t["default"]=y.exports}}]);